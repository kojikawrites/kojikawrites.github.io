---
import {getSiteStyle} from "../scripts/getSiteStyle";
const styleCss = await getSiteStyle();
// console.log(styleCss);
---

<style is:global set:text={styleCss}/>
<div id="-css-helper" />
<script is:inline data-astro-rerun>
    function refreshCss() {
        // force a refresh of the css to pick up dynamic stuff.
        const element = document.getElementById("-css-helper");
        element.classList.add("css-dummy");
        setTimeout(() => {
            element.classList.remove("css-dummy");
            console.warn('css-dummy refresh')
        }, 0);
    }
    refreshCss();
</script>

